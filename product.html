<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="product.css">
  <!--Import de google fonts-->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400&display=swap" rel="stylesheet">
  <!-- Título e favicon -->
  <title>Bret's Cosméticos</title>
  <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
</head>
<body>
  <div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <a href="index.html">Início</a>
    <a href="about.html">Sobre Nós</a>
    <a href="social.html">Redes Sociais</a>
  </div>
  <div id="main">
    <header>
      <div class="header-beginning">
        <img src="assets/menu.png" id="menu-icon" onclick="openNav()">
        <script>
          function openNav() {
            document.getElementById("mySidenav").style.width = "250px";
          }
          function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
          }
        </script>
        <h1 id="title" translate="no">Bret's Cosméticos</h1>
      </div>
      <div>
        <button id="cep-button" type="button" onclick="alert('Esta empresa é fictícia. Não precisamos do seu CEP!')">
          <ion-icon name="location-sharp"></ion-icon>
          <p>Informe<br>seu CEP</p>
        </button>
      </div>
    </header>
    <a href="index.html"><ion-icon name="chevron-back-outline"></ion-icon></a>
    <section>
      <img id="productImage" src="assets/placeholder.jpg" alt="Imagem do Produto">
      <div id="details">
        <h1 id="productName">Nome do Produto</h1>
        <p id="productPrice">Preço: R$0.00</p>
        <button onclick="alert('Os produtos não estão à venda! Procure a barraca do produto desejado.')">
          <ion-icon name="bag-outline"></ion-icon>
          <p>Comprar</p>
        </button>
      </div>
    </section>
  </div>
  <!--Javascript épico que pega os dados do produto selecionado-->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const urlParams = new URLSearchParams(window.location.search);
      const productName = urlParams.get("name");
      const productImage = urlParams.get("image");
      const productPrice = urlParams.get("price");

      document.getElementById("productName").textContent = productName;
      document.getElementById("productImage").src = productImage;
      document.getElementById("productPrice").textContent = productPrice;
    });

    function loadProductDetails() {
      const productLinks = document.querySelectorAll('a[data-name][data-image][data-price]');

      productLinks.forEach(link => {
        link.addEventListener('click', function (event) {
          event.preventDefault();

          const productName = this.getAttribute('data-name');
          const productImage = this.getAttribute('data-image');
          const productPrice = this.getAttribute('data-price');

          displayProductDetails(productName, productImage, productPrice);
        });
      });
    }

    function displayProductDetails(name, image, price) {
      const productNameElement = document.getElementById('productName');
      const productImageElement = document.getElementById('productImage');
      const productPriceElement = document.getElementById('productPrice');

      productNameElement.textContent = name;
      productImageElement.src = image;
      productPriceElement.textContent = price;
    }

    window.addEventListener('load', loadProductDetails);
  </script>
  <!--Ion-icons(manter no final de body)-->
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</body>
</html>